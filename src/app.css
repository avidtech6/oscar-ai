@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--forest-500: #3d8962;
	--forest-600: #2f6b4d;
	--oak-600: #8b5a2b;
}

html {
	font-family: 'Inter', system-ui, sans-serif;
}

body {
	@apply bg-gray-50 text-gray-900 antialiased;
}

/* Custom scrollbar */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	@apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
	@apply bg-gray-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
	@apply bg-gray-400;
}

/* Focus states */
:focus-visible {
	@apply outline-none ring-2 ring-forest-500 ring-offset-2;
}

/* Button styles */
.btn {
	@apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-200;
}

.btn-primary {
	@apply bg-forest-600 text-white hover:bg-forest-700 active:bg-forest-800;
}

.btn-secondary {
	@apply bg-oak-600 text-white hover:bg-oak-700 active:bg-oak-800;
}

.btn-outline {
	@apply border-2 border-forest-600 text-forest-600 hover:bg-forest-50 active:bg-forest-100;
}

.btn-ghost {
	@apply text-gray-600 hover:bg-gray-100 active:bg-gray-200;
}

/* Card styles */
.card {
	@apply bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden;
}

.card-hover {
	@apply hover:shadow-md hover:border-gray-200 transition-all duration-200;
}

/* Input styles */
.input {
	@apply w-full px-4 py-2 rounded-lg border border-gray-200 bg-white;
	@apply focus:border-forest-500 focus:ring-2 focus:ring-forest-500/20;
	@apply transition-all duration-200;
}

.input-error {
	@apply border-red-500 focus:border-red-500 focus:ring-red-500/20;
}

/* Design System: Consistent spacing */
.spacing-xs { @apply gap-1; }
.spacing-sm { @apply gap-2; }
.spacing-md { @apply gap-4; }
.spacing-lg { @apply gap-6; }
.spacing-xl { @apply gap-8; }

.padding-xs { @apply p-2; }
.padding-sm { @apply p-3; }
.padding-md { @apply p-4; }
.padding-lg { @apply p-6; }
.padding-xl { @apply p-8; }

.margin-xs { @apply m-2; }
.margin-sm { @apply m-3; }
.margin-md { @apply m-4; }
.margin-lg { @apply m-6; }
.margin-xl { @apply m-8; }

/* Design System: Typography */
.heading-1 { @apply text-3xl font-bold tracking-tight text-gray-900; }
.heading-2 { @apply text-2xl font-semibold text-gray-800; }
.heading-3 { @apply text-xl font-semibold text-gray-700; }
.heading-4 { @apply text-lg font-medium text-gray-700; }

.body-large { @apply text-lg text-gray-700 leading-relaxed; }
.body { @apply text-base text-gray-600 leading-relaxed; }
.body-small { @apply text-sm text-gray-500 leading-normal; }
.caption { @apply text-xs text-gray-400 uppercase tracking-wide; }

/* Design System: Buttons */
.btn {
	@apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-200;
}

.btn-primary {
	@apply bg-forest-600 text-white hover:bg-forest-700 active:bg-forest-800 shadow-sm;
}

.btn-secondary {
	@apply bg-oak-600 text-white hover:bg-oak-700 active:bg-oak-800 shadow-sm;
}

.btn-outline {
	@apply border-2 border-forest-600 text-forest-600 hover:bg-forest-50 active:bg-forest-100;
}

.btn-ghost {
	@apply text-gray-600 hover:bg-gray-100 active:bg-gray-200;
}

.btn-danger {
	@apply bg-red-600 text-white hover:bg-red-700 active:bg-red-800 shadow-sm;
}

.btn-success {
	@apply bg-green-600 text-white hover:bg-green-700 active:bg-green-800 shadow-sm;
}

.btn-sm { @apply px-3 py-1.5 text-sm; }
.btn-lg { @apply px-6 py-3 text-lg; }

/* Design System: Cards */
.card {
	@apply bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden;
}

.card-hover {
	@apply hover:shadow-md hover:border-gray-200 transition-all duration-200;
}

.card-header {
	@apply px-6 py-4 border-b border-gray-100;
}

.card-body {
	@apply p-6;
}

.card-footer {
	@apply px-6 py-4 border-t border-gray-100 bg-gray-50;
}

/* Design System: Forms */
.input {
	@apply w-full px-4 py-2 rounded-lg border border-gray-200 bg-white;
	@apply focus:border-forest-500 focus:ring-2 focus:ring-forest-500/20;
	@apply transition-all duration-200;
}

.input-error {
	@apply border-red-500 focus:border-red-500 focus:ring-red-500/20;
}

.label {
	@apply block text-sm font-medium text-gray-700 mb-1;
}

/* Report typography */
.report-content {
	font-family: 'Merriweather', Georgia, serif;
}

.report-content h1 {
	@apply text-2xl font-bold mb-4 text-forest-800;
}

.report-content h2 {
	@apply text-xl font-bold mb-3 text-forest-700;
}

.report-content h3 {
	@apply text-lg font-semibold mb-2 text-gray-800;
}

.report-content p {
	@apply mb-4 text-gray-700 leading-relaxed;
}

.report-content ul, .report-content ol {
	@apply mb-4 ml-6;
}

.report-content li {
	@apply mb-2;
}

.report-content table {
	@apply w-full mb-4 border-collapse;
}

.report-content th, .report-content td {
	@apply px-3 py-2 text-left border border-gray-200;
}

.report-content th {
	@apply bg-gray-50 font-semibold;
}

/* Animations */
@keyframes pulse-recording {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

.recording {
	animation: pulse-recording 1.5s ease-in-out infinite;
}

/* Oscar Chat */
.oscar-message {
	@apply bg-forest-50 border-forest-200 text-gray-800;
}

.user-message {
	@apply bg-oak-50 border-oak-200 text-gray-800;
}

/* Mobile layout improvements */
@media (max-width: 768px) {
	/* Improve touch targets */
	button,
	a[role="button"],
	[role="button"] {
		min-height: 44px;
		min-width: 44px;
	}
	
	/* Better spacing for mobile */
	.mobile-padding {
		padding-left: 1rem;
		padding-right: 1rem;
	}
	
	/* Prevent text overflow */
	.truncate-mobile {
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	
	/* Improve form elements on mobile */
	input,
	textarea,
	select {
		font-size: 16px; /* Prevents iOS zoom on focus */
	}
	
	/* Better spacing for lists */
	ul, ol {
		padding-left: 1.5rem;
	}
	
	/* Improve card spacing */
	.card {
		margin-bottom: 1rem;
	}
	
	/* Reduce heading sizes on mobile */
	h1 {
		font-size: 1.75rem;
		line-height: 2rem;
	}
	
	h2 {
		font-size: 1.5rem;
		line-height: 1.75rem;
	}
	
	h3 {
		font-size: 1.25rem;
		line-height: 1.5rem;
	}
	
	/* Improve table readability on mobile */
	table {
		font-size: 0.875rem;
	}
	
	th, td {
		padding: 0.5rem;
	}
}

/* Very small screen adjustments */
@media (max-width: 480px) {
	/* Further reduce padding */
	.container,
	section,
	article {
		padding-left: 0.75rem;
		padding-right: 0.75rem;
	}
	
	/* Smaller headings */
	h1 {
		font-size: 1.5rem;
		line-height: 1.75rem;
	}
	
	h2 {
		font-size: 1.25rem;
		line-height: 1.5rem;
	}
	
	h3 {
		font-size: 1.125rem;
		line-height: 1.375rem;
	}
	
	/* Hide less important elements */
	.hidden-mobile {
		display: none !important;
	}
	
	/* Stack buttons vertically in tight spaces */
	.button-group-stack {
		flex-direction: column;
		gap: 0.5rem;
	}
	
	.button-group-stack button {
		width: 100%;
	}
}

/* Landscape mode improvements */
@media (max-height: 600px) and (orientation: landscape) {
	/* Reduce vertical padding */
	.p-4, .p-6, .p-8 {
		padding-top: 0.5rem;
		padding-bottom: 0.5rem;
	}
	
	/* Reduce heading sizes further */
	h1 {
		font-size: 1.25rem;
	}
	
	h2 {
		font-size: 1.125rem;
	}
	
	/* Compact form elements */
	input, textarea {
		padding-top: 0.375rem;
		padding-bottom: 0.375rem;
	}
}

/* Prevent horizontal overflow on mobile */
html, body {
	overflow-x: hidden;
}

/* Safe-area padding for modern mobile devices */
@supports (padding: max(0px)) {
	.safe-area-padding {
		padding-left: max(1rem, env(safe-area-inset-left));
		padding-right: max(1rem, env(safe-area-inset-right));
		padding-top: max(1rem, env(safe-area-inset-top));
		padding-bottom: max(1rem, env(safe-area-inset-bottom));
	}
}

/* Ensure grid items wrap properly on mobile */
@media (max-width: 768px) {
	.grid-cols-1,
	.grid-cols-2,
	.grid-cols-3,
	.grid-cols-4 {
		grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
	}
	
	/* Reduce gap between grid items */
	.gap-6 {
		gap: 1rem;
	}
	
	/* Reduce padding inside cards */
	.p-6 {
		padding: 1rem;
	}
}
